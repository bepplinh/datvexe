.user-notification-bell {
    position: relative;

    .bell-button {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        border: none;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        color: #fff;
        font-size: 18px;
        cursor: pointer;
        transition: all 0.3s ease;

        &:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        &.has-unread {
            animation: bell-shake 0.5s ease-in-out;

            svg {
                color: #fbbf24;
            }
        }

        .badge {
            position: absolute;
            top: -2px;
            right: -2px;
            min-width: 18px;
            height: 18px;
            padding: 0 5px;
            background: #ef4444;
            color: #fff;
            font-size: 10px;
            font-weight: 700;
            line-height: 18px;
            text-align: center;
            border-radius: 9px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
    }

    .notification-dropdown {
        position: absolute;
        top: calc(100% + 10px);
        right: 0;
        width: 360px;
        max-height: 480px;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        overflow: hidden;
        z-index: 1000;
        animation: dropdown-fade-in 0.2s ease-out;

        @media (max-width: 480px) {
            width: calc(100vw - 20px);
            right: -10px;
        }

        .dropdown-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: #fff;

            h3 {
                margin: 0;
                font-size: 16px;
                font-weight: 600;
            }

            .mark-all-read {
                display: flex;
                align-items: center;
                gap: 6px;
                padding: 6px 12px;
                border: none;
                border-radius: 6px;
                background: rgba(255, 255, 255, 0.2);
                color: #fff;
                font-size: 12px;
                cursor: pointer;
                transition: background 0.2s ease;

                &:hover {
                    background: rgba(255, 255, 255, 0.3);
                }
            }
        }

        .notification-list {
            max-height: 360px;
            overflow-y: auto;

            &::-webkit-scrollbar {
                width: 6px;
            }

            &::-webkit-scrollbar-thumb {
                background: #d1d5db;
                border-radius: 3px;
            }

            .loading-state,
            .empty-state {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 40px 20px;
                color: #9ca3af;

                .spinner {
                    width: 30px;
                    height: 30px;
                    border: 3px solid #e5e7eb;
                    border-top-color: #6366f1;
                    border-radius: 50%;
                    animation: spin 0.8s linear infinite;
                }

                .empty-icon {
                    font-size: 40px;
                    margin-bottom: 12px;
                    opacity: 0.5;
                }

                p {
                    margin: 10px 0 0;
                    font-size: 14px;
                }
            }

            .notification-item {
                display: flex;
                align-items: flex-start;
                gap: 12px;
                padding: 14px 20px;
                border-bottom: 1px solid #f3f4f6;
                cursor: pointer;
                transition: background 0.2s ease;

                &:hover {
                    background: #f9fafb;
                }

                &.unread {
                    background: #eef2ff;

                    &:hover {
                        background: #e0e7ff;
                    }
                }

                &:last-child {
                    border-bottom: none;
                }

                .notification-icon-wrapper {
                    flex-shrink: 0;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    width: 40px;
                    height: 40px;
                    border-radius: 10px;
                    background: #f3f4f6;

                    .notification-icon {
                        font-size: 16px;

                        &.reminder {
                            color: #f59e0b;
                        }

                        &.booking {
                            color: #10b981;
                        }

                        &.default {
                            color: #6366f1;
                        }
                    }
                }

                .notification-content {
                    flex: 1;
                    min-width: 0;

                    .notification-title {
                        margin: 0 0 4px;
                        font-size: 14px;
                        font-weight: 600;
                        color: #1f2937;
                        white-space: nowrap;
                        overflow: hidden;
                        text-overflow: ellipsis;
                    }

                    .notification-message {
                        margin: 0 0 6px;
                        font-size: 13px;
                        color: #6b7280;
                        display: -webkit-box;
                        -webkit-line-clamp: 2;
                        line-clamp: 2;
                        -webkit-box-orient: vertical;
                        overflow: hidden;
                    }

                    .notification-time {
                        font-size: 11px;
                        color: #9ca3af;
                    }
                }

                .unread-dot {
                    flex-shrink: 0;
                    width: 8px;
                    height: 8px;
                    border-radius: 50%;
                    background: #6366f1;
                    margin-top: 6px;
                }
            }
        }

        .dropdown-footer {
            padding: 12px 20px;
            border-top: 1px solid #f3f4f6;
            text-align: center;

            a {
                color: #6366f1;
                font-size: 13px;
                font-weight: 500;
                text-decoration: none;
                transition: color 0.2s ease;

                &:hover {
                    color: #4f46e5;
                    text-decoration: underline;
                }
            }
        }
    }
}

@keyframes bell-shake {
    0%,
    100% {
        transform: rotate(0);
    }
    25% {
        transform: rotate(-15deg);
    }
    50% {
        transform: rotate(15deg);
    }
    75% {
        transform: rotate(-10deg);
    }
}

@keyframes dropdown-fade-in {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}
